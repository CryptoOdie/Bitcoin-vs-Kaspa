
<!DOCTYPE html>

<html>
<head>
<style>
  .thermo-wrapper {
    display: flex;
    justify-content: flex-start;
    align-items: flex-end;
    gap: 100px;
    margin-top: 40px;
  }
  .thermo {
    width: 120px;
    height: 450px;
    background-color: #e0e0e0;
    border-radius: 12px;
    position: relative;
    overflow: hidden;
    border: 2px solid #ccc;
  }
  .fill.kaspa {
    background-color: teal;
  }
  .fill.bitcoin {
    background-color: orange;
  }
  .fill {
    width: 100%;
    position: absolute;
    bottom: 0;
    transition: height 0.5s ease;
  }
  .label {
    text-align: center;
    font-weight: bold;
    margin-top: 10px;
    font-size: 18px;
  }

/* Slider Track */
.slider {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 15px;
  background: #aaa;
  border-radius: 8px;
  outline: none;
  transition: opacity 0.2s;
  margin: 8px 0;
}

/* Chrome, Safari, Opera */
.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #007bff;
  cursor: pointer;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
}

/* Firefox */
.slider::-moz-range-thumb {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #007bff;
  cursor: pointer;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
}


.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #aaa;
  outline: none;
  opacity: 0.8;
  transition: opacity 0.2s;
}
.slider:hover {
  opacity: 1;
}
.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #007bff;
  cursor: pointer;
}
.slider::-moz-range-thumb {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: #007bff;
  cursor: pointer;
}
</style>
<style>
.section-red { color: #FF0000 !important; font-weight: bold !important; }
.scrollbar-title { text-transform: uppercase; font-weight: bold; }
</style>
<style>
.section-budget-large {
  font-size: 115% !important;
}
</style>
<style>
/* Inset slider container ~0.5 inch from each side */
.slider-wrap { margin-left: clamp(16px, 5vw, 48px); margin-right: clamp(16px, 5vw, 48px);
}
.slider-wrap input[type="range"] {
  width: 100%;
  display: block;
}
</style>
<style>
#kaspaFeeBox, #kaspaBlockBox, #btcFeeBox, #btcBlockBox {
  background-color: #f0f0f0 !important;
  border-radius: 6px;
  padding: 6px;
}
</style>
<style>
/* Security Budget Slider (progress) */
#sbSlider {
  -webkit-appearance: none;
  appearance: none;
  width: 60%;
  height: 14px;
  background: linear-gradient(to right, rgba(255,255,255,0.9) 0 0) no-repeat, #1a2b4d;
  background-size: 75% 100%; /* updated via JS */
  border-radius: 8px;
  outline: none;
  cursor: pointer;
  box-shadow: inset 0 0 4px rgba(0,0,0,0.6);
  margin-top: 10px;
}
#sbSlider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: #ffffff;
  border: 2px solid #ccc;
  box-shadow: 0 2px 6px rgba(0,0,0,0.5);
  transition: transform 0.15s ease;
}
#sbSlider::-webkit-slider-thumb:hover { transform: scale(1.2); }
#sbSlider::-moz-range-thumb {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: #ffffff;
  border: 2px solid #ccc;
  box-shadow: 0 2px 6px rgba(0,0,0,0.5);
  transition: transform 0.15s ease;
}
#sbSlider::-moz-range-thumb:hover { transform: scale(1.2); }
#sbSliderValue { color: #ffffff; font-weight: bold; }
</style>

<style>
#kaspaTotalBox span,
#btcTotalBox span {
  font-size: 0.6em; /* relative to 5em parent = about 3em */
  font-weight: bold;
}
</style>

<style>
/* Make totals and their inline red/green percentages much larger */
#kaspaTotalBox, #btcTotalBox {
  font-size: 5em !important;
  font-weight: bold !important;
  line-height: 1.1;
}
#kaspaTotalBox span, #btcTotalBox span {
  font-size: 0.6em !important;   /* ~3em effective when parent is 5em */
  font-weight: bold !important;
}
@media (max-width: 480px) {
  #kaspaTotalBox, #btcTotalBox { font-size: 4em !important; }
}
</style>
</head>
<div style="position: fixed; top: 10px; left: 10px; z-index: 10000;">
<button onclick="toggleInfoModal()" style="padding: 10px 20px; font-size: 1.5em; font-weight: bold;">Info</button>
</div>
<div id="infoModal" onclick="toggleInfoModal()" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.9); color: white; padding: 40px; overflow-y: auto; scroll-behavior: smooth; z-index: 9999; font-size: 1.4em;">
<div style="max-width: 900px; margin: auto;">
<h2 style="text-align: center;">üß† Simulation Reference Guide</h2>
<p><strong>üü¶ Network Congestion:</strong><br/>
    This slider controls how congested the blockchain network is. Congestion represents how many blocks are being filled with transactions. A network running at 100% congestion is processing the maximum possible number of transactions per day.
    In Kaspa‚Äôs case, this is based on block throughput (e.g., 30,000 txs per second at 100 BPS). Higher congestion means higher total daily transactions, which increases <span class="section-red">fee revenue</span>.</p>
<p><strong>üìÜ Date:</strong><br/>
    This slider allows you to scrub through hypothetical dates or preset moments in time for educational and scenario-building purposes. It may also be used to anchor assumptions like fee environments or market states in future revisions of this calculator.</p>
<p><strong>üíµ Average Fee Rate: USD (per Single Transaction):</strong><br/>
    This value determines the average fee paid for a single transaction. For example, if this is set to $10 and 1 million transactions occur, the total <span class="section-red">fee revenue</span> is $10 million. This field is used to compute the <em><span class="section-red">Fee Revenue</span></em> value. Kaspa‚Äôs scalability allows for lower fee rates with higher throughput.</p>
<p><strong>üè¶ Market Cap:</strong><br/>
    Represents the total market capitalization of the asset being secured (e.g., Bitcoin or Kaspa). This is a critical input, as the calculator uses it to derive the suggested minimum <span class="section-red section-budget-large">SECURITY BUDGET</span> ‚Äî defined here as 2% of the market cap per year, divided by 365 to find the daily minimum.</p>
<p><strong>üö® <span style="text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;">SECURITY BUDGET REQUIREMENT  =</span></strong><br/>
    This red panel shows an adjustable annual <span class="section-red section-budget-large">SECURITY BUDGET</span> (0.5%‚Äì1.5%), defaulting to 1.5% as a baseline for defending a proof-of-work blockchain. It divides the chosen percentage of the market cap by 365 to estimate the daily revenue miners must earn to keep the network secure against a 51% attack. If daily miner revenue is below this threshold, the network may be economically vulnerable to attacks.</p>
<p><strong>üî∂ <span class="section-red">Block Reward</span>:</strong><br/>
    The amount miners receive from new coins being minted (i.e., inflationary issuance). In Bitcoin, this amount halves approximately every 4 years. In Kaspa, it reduces gradually every month. <span class="section-red">Block reward</span> is a fixed calculation independent of fee activity and is added to miner revenue.</p>
<p><strong>üü© <span class="section-red">Fee Revenue</span>:</strong><br/>
    The total amount miners earn from transaction fees. It is calculated as:<br/>
<code><span class="section-red">Fee Revenue</span> = Number of Transactions √ó Fee Rate</code><br/>
    This is directly influenced by network congestion and average fee rate. In a healthy system, this value should rise over time to replace falling <span class="section-red">block reward</span>s.</p>
<p><strong>üí∞ Daily Miner Revenue:</strong><br/>
    This is the total compensation miners receive per day. It is the sum of:<br/>
<code>Daily Miner Revenue = <span class="section-red">Block Reward</span> + <span class="section-red">Fee Revenue</span></code><br/>
    This figure must ideally meet or exceed the <span class="section-red section-budget-large">SECURITY BUDGET</span> Minimum to ensure network security is economically sustainable.</p>
<p><strong>üîò Congestion Slider:</strong> Increases or decreases daily transactions as a percent of max capacity (set by BPS level). Affects <span class="section-red">fee revenue</span>.</p>
<p><strong>üîò Market Cap Slider:</strong> Adjusts total network value. Directly affects the 2% annual <span class="section-red section-budget-large">SECURITY BUDGET</span> calculation.</p>
<p><strong>üîò Fee Rate Slider:</strong> Modifies the average fee per transaction. Combined with congestion, it determines <span class="section-red">fee revenue</span>.</p>
<p style="margin-top: 30px; font-style: italic; color: #ccc;">Click anywhere to close this window.</p>
</div>
</div>
<script>
  function toggleInfoModal() {
    const modal = document.getElementById('infoModal');
    modal.style.display = (modal.style.display === 'none' || modal.style.display === '') ? 'block' : 'none';
  }
</script>
<body style="background- color: black;">
<div style="position: absolute; top: 20px; left: 40px; z-index: 9999;">
</div>
<h1 style="text-align:center; font-size: 6em; margin-top:10px;">
<span style="color:#70C7BA;">Kaspa</span> vs. <span style="color:#FF9900;">Bitcoin</span><div style="display: flex; justify-content: flex-start; gap: 6px; margin-top: 10px; margin-bottom: 10px;">
<button onclick="location.href='https://cryptoodie.github.io/KASPA-VS.-BITCOIN-MINER-REVENUE-/'" style="padding: 1px 2px; font-size: 0.4em; font-weight: bold; border-radius: 2px; margin: 0 2px; border: 1px solid #ccc; background-color: #f0f0f0; background-color: #007BFF; color: white; border-color: #0056b3;">10 BPS</button>
<button onclick="location.href='https://cryptoodie.github.io/KASPA-VS-BITCOIN-32-BPS/'" style="padding: 1px 2px; font-size: 0.4em; font-weight: bold; border-radius: 2px; margin: 0 2px; border: 1px solid #ccc; background-color: #f0f0f0;">32 BPS</button>
<button onclick="location.href='https://cryptoodie.github.io/KASPA-VS-BITCOIN-100BPS/'" style="padding: 1px 2px; font-size: 0.4em; font-weight: bold; border-radius: 2px; margin: 0 2px; border: 1px solid #ccc; background-color: #f0f0f0;">100 BPS</button>
</div></h1>
<div style="text-align: center; margin-top: 20px;">


</div>
<div id="securityBubble" onclick="toggleBubble('securityBubble')" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
  max-width: 700px; background: #222; color: #fff; padding: 30px; border-radius: 15px; z-index: 9999; box-shadow: 0 0 20px rgba(0,0,0,0.5); font-size: 2.2em; line-height: 1.6;">
<p>~~~~~~~~~~~~~~~~~~~~~~~~<br/>
  <span class="section-red section-budget-large">SECURITY BUDGET</span> = Miner Revenue<br/>
  ~~~~~~~~~~~~~~~~~~~~~~~~</p>
<p>Miner Revenue<br/>
  =<br/>
  <span class="section-red">Block Reward</span>s<br/>
  +<br/>
  <span class="section-red">Fee Revenue</span><br/>
  ~~~~~~~~~~~~~~~~~~~~~~~~</p>
<p>Historical analysis suggests that approximately 2‚Äì3% of Bitcoin‚Äôs market cap has been sufficient to protect 51% of the network‚Äôs hash power.</p>
<p>For Kaspa, with its identical 51% BFT design, this <span class="section-red section-budget-large">SECURITY BUDGET</span> estimate applies exactly the same.</p>
<p><span style="color: red;"><strong>‚Äú<span style="text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;">SECURITY BUDGET REQUIREMENT  =</span>‚Äù</strong></span> calculates a 2% <span class="section-red section-budget-large">SECURITY BUDGET</span>. Without this, PoW networks are potentially unstable.</p>
<p><a href="https://www.lynalden.com/bitcoin-security-modeling/" style="color: #00ffff;" target="_blank">https://www.lynalden.com/bitcoin-security-modeling/</a></p>
</div>
<div id="exampleBubble" onclick="toggleBubble('exampleBubble')" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
  max-width: 700px; background: #222; color: #fff; padding: 30px; border-radius: 15px; z-index: 9999; box-shadow: 0 0 20px rgba(0,0,0,0.5); font-size: 2.4em; line-height: 1.6;">
<p><span style="color: #00FFFF;">If the market cap is <strong>$1 trillion</strong></span>, then roughly <span style="color: #FFD700;"><strong>$20 billion per year</strong></span> 
  (or about <span style="color: #ADFF2F;"><strong>$54.8 million per day</strong></span>) has historically been sufficient to deter a 51% attack.</p>
<p><span style="color: #00FFFF;">If the market cap reaches <strong>$100 trillion</strong></span>, then a proportionate <span class="section-red section-budget-large">SECURITY BUDGET</span> would be around 
  <span style="color: #FFD700;"><strong>$2 trillion per year</strong></span> (or about <span style="color: #ADFF2F;"><strong>$5.48 billion per day</strong></span>).</p>
<p><span style="color: #FFA07A;">This isn‚Äôt wasted spending</span> ‚Äî it funds infrastructure. 
  Unlike defending the U.S. dollar through military force, <span style="color: #FF69B4;">PoW <span class="section-red section-budget-large">SECURITY BUDGET</span>s</span> largely support 
  <span style="color: #7FFFD4;">renewable energy mining</span>. The result? 
  <span style="color: #00FA9A;">More clean energy production</span>, 
  <span style="color: #9370DB;">economic empowerment</span>, and a 
  <span style="color: #FF6347;">monetary system that uplifts global prosperity</span>.</p>
</div>
<script>
  function toggleBubble(id) {
    const el = document.getElementById(id);
    el.style.display = (el.style.display === 'none' || el.style.display === '') ? 'block' : 'none';
  }
</script>



<div style="display: flex; justify-content: flex-start; margin-top: 40px;">
<div style="width: 45%; padding: 10px; border-right: 2px solid black; text-align: center;">
<div style="display:inline-block;"><div id="kaspaPercent" style="font-size:3em; font-weight:bold; margin-bottom:10px; text-align:center;"></div><img src="data:image/png;base64,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" style="height:80px;"/></div>
<div style="font-weight: bold; font-size: 1.9em; margin-top: 10px; color: #70C7BA; text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><span class="section-red">FEE REVENUE</span> </div>
<div id="kaspaFeeBox" style="height: 60px;  margin: 10px 0; font-size: 1.5em; line-height: 60px; font-size: 2em; font-size: 1.6em; font-weight: bold; font-size: 2.2em; font-weight: bold;"></div>
<div style="font-weight: bold; font-size: 1.9em; margin-top: 10px; color: #70C7BA; text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><span class="section-red">BLOCK REWARD</span> </div>
<div id="kaspaBlockBox" style="height: 60px;  margin: 10px 0; font-size: 1.5em; line-height: 60px; font-size: 2em; font-size: 1.6em; font-weight: bold; font-size: 2.2em; font-weight: bold;"></div>
<div style="font-weight: bold; font-size: 1.9em; margin-top: 10px; color: #70C7BA; text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><span class="section-red section-budget-large">SECURITY BUDGET</span> </div>
<div id="kaspaTotalBox" style="height: 60px; background-color: #66ccc2; margin: 10px 0; font-size: 5em; line-height: 60px; font-size: 5em; font-size: 5em; font-weight: bold; font-size: 5em; font-weight: bold;"></div>

</div>
<div style="width: 45%; padding: 10px; text-align: center;">
<div style="display:inline-block;"><div id="btcPercent" style="font-size:3em; font-weight:bold; margin-bottom:10px; text-align:center;"></div><img src="data:image/png;base64,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" style="height:80px;"/></div>

<div style="font-weight: bold; font-size: 1.9em; margin-top: 10px; color: #FF9900; text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><span class="section-red">FEE REVENUE</span> </div>
<div id="btcFeeBox" style="height: 60px;  margin: 10px 0; font-size: 1.5em; line-height: 60px; font-size: 2em; font-size: 1.6em; font-weight: bold; font-size: 2.2em; font-weight: bold;"></div>
<div style="font-weight: bold; font-size: 1.9em; margin-top: 10px; color: #FF9900; text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><span class="section-red">BLOCK REWARD</span> </div>
<div id="btcBlockBox" style="height: 60px;  margin: 10px 0; font-size: 1.5em; line-height: 60px; font-size: 2em; font-size: 1.6em; font-weight: bold; font-size: 2.2em; font-weight: bold;"></div>
<div style="font-weight: bold; font-size: 1.9em; margin-top: 10px; color: #FF9900; text-shadow: 0.5px 0.5px 0 #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><span class="section-red section-budget-large">SECURITY BUDGET</span> </div>
<div id="btcTotalBox" style="height: 60px; background-color: orange; margin: 10px 0; font-size: 5em; line-height: 60px; font-size: 5em; font-size: 5em; font-weight: bold; font-size: 5em; font-weight: bold;"></div>

</div>
</div>
<div style="display: flex; justify-content: flex-start; margin-top: 30px;">
</div>
<div class="container">
<div class="box">
<div class="label" style=" text-align: left; font-size: 2em; font-weight: bold;"><span style="font-weight:bold; color:#0056b3;" class="scrollbar-title">Network Congestion </span></div>
<div class="value" id="congestionValue" style=" text-align: left; font-size: 2em; font-weight: bold;">50%</div>
<div class="slider-wrap"><input class="slider" id="congestionSlider" max="100" min="1" type="range" value="100"/></div>
</div>
<div class="box">
<div class="label" style=" text-align: left; font-size: 2em; font-weight: bold;"><span style="font-weight:bold; color:#0056b3;" class="scrollbar-title">Date </span></div>
<div class="value" id="dateValue" style=" text-align: left; font-size: 2em; font-weight: bold;">2025, June 07</div>
<div class="slider-wrap"><input class="slider" id="dateSlider" max="193" min="43" step="1" type="range" value="193"/></div>
</div>
<div class="box">
<div class="label" style=" text-align: left; font-size: 1.5em; font-weight: bold;"><span style="font-weight:bold; color:#0056b3;" class="scrollbar-title">Fee Rate  </span><br/><span class="value" id="feeValue" style=" font-size: 1.5em; font-weight: bold;">$0.00</span></div>
<div class="slider-wrap"><input class="slider" id="feeSlider" max="1000" min="0" type="range" value="0"/></div>
</div>
<div class="box">
<div class="label" style=" text-align: left; font-size: 1.5em; font-weight: bold;"><span style="font-weight:bold; color:#0056b3;" class="scrollbar-title">MarketCap </span><br/><span class="value" id="marketCapValue" style=" font-size: 1.5em; font-weight: bold;">$0.00</span></div>
<div class="slider-wrap"><input class="slider" id="marketCapSlider" max="1000" min="0" type="range" value="0"/>
<div id="floating-minimum-panel" style="width: 100%; background-color: grey; color: white; text-align: center; padding: 10px 0; font-size: 1.4em; font-weight: bold; margin: 30px auto;">
<div id="security-rate-slider" style="text-align:center; margin:20px 0;">
  <h3 style="color:white; margin-bottom:10px; font-weight:bold; font-size:2.2em; letter-spacing:0.5px;">
    SELECT SECURITY BUDGET
  </h3>
  <div style="color:#ddd; font-weight:bold; text-align:center; margin:10px 0;">
    <span id="sbSliderValue" style="font-size:2.6em; font-weight:bold; display:inline-block;">0.00%</span>
  </div>
  <div style="text-align:center; margin:20px 0;">
  <span id="securityRevenueValue" style="font-size:2.6em; font-weight:bold; color:black;">$0.00 / DAILY</span>
</div>
<input type="range" id="sbSlider" min="0" max="2" step="0.01" value="0.00"
         class="slider" style="width:60%; margin-top:10px; display:block; margin: 0 auto;">
</div>

    
    
    </div>
</div>
</div>
</div><script>
    const kaspaEmissions = [500.0, 500.0, 500.0, 500.0, 500.0, 500.0, 440.0, 415.3046976, 391.995436, 369.9944227, 349.2282314, 329.6275569, 311.1269837, 293.6647679, 277.182631, 261.6255653, 246.9416506, 233.0818808, 220.0, 207.6523488, 195.997718, 184.9972114, 174.6141157, 164.8137785, 155.5634919, 146.832384, 138.5913155, 130.8127827, 123.4708253, 116.5409404, 110.0, 103.8261744, 97.998859, 92.49860568, 87.30705786, 82.40688923, 77.78174593, 73.41619198, 69.29565774, 65.40639133, 61.73541266, 58.27047019, 55.0, 51.9130872, 48.9994295, 46.24930284, 43.65352893, 41.20344461, 38.89087297, 36.70809599, 34.64782887, 32.70319566, 30.86770633, 29.13523509, 27.5, 25.9565436, 24.49971475, 23.12465142, 21.82676446, 20.60172231, 19.44543648, 18.35404799, 17.32391444, 16.35159783, 15.43385316, 14.56761755, 13.75, 12.9782718, 12.24985737, 11.56232571, 10.91338223, 10.30086115, 9.722718241, 9.177023997, 8.661957218, 8.175798916, 7.716926582, 7.283808774, 6.875, 6.4891359, 6.124928687, 5.781162855, 5.456691116, 5.150430577, 4.861359121, 4.588511999, 4.330978609, 4.087899458, 3.858463291, 3.641904387, 3.4375, 3.246956684, 3.062464344, 2.890581428, 2.730345558, 2.580346118, 2.439449561, 2.306510895, 2.180489304, 2.060490026, 1.945790907, 1.835798189, 1.729963496, 1.627805362, 1.528896508, 1.432858482, 1.339356691, 1.248094234, 1.158807784, 1.071262019, 0.985245569, 0.900566771, 0.817050471, 0.734536902, 0.652880052, 0.571946421, 0.491612435, 0.411763167, 0.33229136, 0.253096574, 0.174084419, 0.095165871, 0.016256117, 0.015166723, 0.014140768, 0.013174914, 0.012265964, 0.01141088, 0.010606781, 0.009850932, 0.009140741, 0.008473758, 0.007847654, 0.007260215, 0.006709341, 0.006193042, 0.005709427, 0.005256706, 0.004833187, 0.004437273, 0.004067453, 0.0037223, 0.003400461, 0.003100659, 0.002821691, 0.002562415, 0.002321753, 0.002098689, 0.001892266, 0.001701582, 0.001525792, 0.001364104, 0.001215772, 0.001080098, 0.000956426, 0.000844135, 0.000742635, 0.000651369, 0.000569812, 0.000497468, 0.000433867, 0.000378564, 0.00033114, 0.000291203, 0.00025839, 0.000232368, 0.000212836, 0.00019953, 0.000192226, 0.000190736, 0.000194906, 0.000204615, 0.000219775, 0.000240328, 0.000266252, 0.000297561, 0.000334307, 0.000376578, 0.000424502, 0.000478252, 0.000538048, 0.000604149, 0.000676852, 0.000756494, 0.000843459, 0.000938179, 0.001041134, 0.001152853, 0.001273912, 0.001404938, 0.001546617, 0.001699697, 0.001864993, 0.002043391];
    const dateLabels = ['2021, November 08', '2021, December 08', '2022, January 08', '2022, February 08', '2022, March 08', '2022, April 08', '2022, May 08', '2022, June 07', '2022, July 07', '2022, August 07', '2022, September 06', '2022, October 07', '2022, November 06', '2022, December 07', '2023, January 06', '2023, February 05', '2023, March 08', '2023, April 07', '2023, May 08', '2023, June 07', '2023, July 08', '2023, August 07', '2023, September 07', '2023, October 07', '2023, November 06', '2023, December 07', '2024, January 06', '2024, February 06', '2024, March 07', '2024, April 07', '2024, May 07', '2024, June 06', '2024, July 07', '2024, August 06', '2024, September 06', '2024, October 06', '2024, November 06', '2024, December 06', '2025, January 06', '2025, February 05', '2025, March 07', '2025, April 07', '2025, May 07', '2025, June 07', '2025, July 07', '2025, August 07', '2025, September 06', '2025, October 06', '2025, November 06', '2025, December 06', '2026, January 06', '2026, February 05', '2026, March 08', '2026, April 07', '2026, May 08', '2026, June 07', '2026, July 07', '2026, August 07', '2026, September 06', '2026, October 07', '2026, November 06', '2026, December 07', '2027, January 06', '2027, February 05', '2027, March 08', '2027, April 07', '2027, May 08', '2027, June 07', '2027, July 08', '2027, August 07', '2027, September 07', '2027, October 07', '2027, November 06', '2027, December 07', '2028, January 06', '2028, February 06', '2028, March 07', '2028, April 07', '2028, May 07', '2028, June 06', '2028, July 07', '2028, August 06', '2028, September 06', '2028, October 06', '2028, November 06', '2028, December 06', '2029, January 06', '2029, February 05', '2029, March 07', '2029, April 07', '2029, May 07', '2029, June 06', '2029, July 07', '2029, August 06', '2029, September 06', '2029, October 06', '2029, November 06', '2029, December 06', '2030, January 06', '2030, February 05', '2030, March 07', '2030, April 06', '2030, May 07', '2030, June 06', '2030, July 07', '2030, August 06', '2030, September 06', '2030, October 06', '2030, November 06', '2030, December 06', '2031, January 06', '2031, February 05', '2031, March 07', '2031, April 06', '2031, May 06', '2031, June 05', '2031, July 05', '2031, August 04', '2031, September 03', '2031, October 03', '2031, November 02', '2031, December 02', '2032, January 01', '2032, February 01', '2032, March 02', '2032, April 01', '2032, May 01', '2032, June 01', '2032, July 01', '2032, August 01', '2032, September 01', '2032, October 01', '2032, November 01', '2032, December 01', '2033, January 01', '2033, February 01', '2033, March 03', '2033, April 02', '2033, May 02', '2033, June 01', '2033, July 01', '2033, August 01', '2033, September 01', '2033, October 01', '2033, November 01', '2033, December 01', '2034, January 01', '2034, February 01', '2034, March 01', '2034, April 01', '2034, May 01', '2034, June 01', '2034, July 01', '2034, August 01', '2034, September 01', '2034, October 01', '2034, November 01', '2034, December 01', '2035, January 01', '2035, February 01', '2035, March 01', '2035, April 01', '2035, May 01', '2035, June 01', '2035, July 01', '2035, August 01', '2035, September 01', '2035, October 01', '2035, November 01', '2035, December 01', '2036, January 01', '2036, February 01', '2036, March 01', '2036, April 01', '2036, May 01', '2036, June 01', '2036, July 01', '2036, August 01', '2036, September 01', '2036, October 01', '2036, November 01', '2036, December 01', '2037, January 01', '2037, February 01', '2037, March 01', '2037, April 01', '2037, May 01', '2037, June 01', '2037, July 01', '2037, August 01', '2037, September 01', '2037, October 01', '2037, November 01', '2037, December 01'];

    function getBitcoinBlockReward(dateStr) {
      const date = new Date(dateStr);
      if (date < new Date("2012-11-28")) return 50;
      if (date < new Date("2016-07-09")) return 25;
      if (date < new Date("2020-05-11")) return 12.5;
      if (date < new Date("2024-04-20")) return 6.25;
      if (date < new Date("2028-04-01")) return 3.125;
      if (date < new Date("2032-04-01")) return 1.5625;
      if (date < new Date("2036-04-01")) return 0.78125;
      return 0.390625;
    }

    function formatMoney(n) {
      if (n >= 1e12) return "$" + (n / 1e12).toFixed(2) + "T";
      if (n >= 1e9) return "$" + (n / 1e9).toFixed(2) + "B";
      if (n >= 1e6) return "$" + (n / 1e6).toFixed(2) + "M";
      if (n >= 1e3) return "$" + (n / 1e3).toFixed(2) + "K";
      return "$" + n.toFixed(2);
    }

    function update() {
      const congestion = parseInt(document.getElementById("congestionSlider").value);
      const dateIndex = parseInt(document.getElementById("dateSlider").value);
      const feeRaw = parseInt(document.getElementById("feeSlider").value);
      const marketCapRaw = parseInt(document.getElementById("marketCapSlider").value);

      let feeRate;
      if (feeRaw <= 250) {
        feeRate = (feeRaw / 250) * 10;
      } else {
        feeRate = 10 + ((feeRaw - 250) / 750) * (10000 - 10);
      }
      console.log("FeeRaw:", feeRaw, "FeeRate:", feeRate);
      let marketCap;
      if (marketCapRaw <= 250) {
        marketCap = (marketCapRaw / 250) * 2e12;
      } else {
        marketCap = 2e12 + ((marketCapRaw - 250) / 750) * (3e14 - 2e12);
      }
      const kaspaPrice = marketCap / 27800000000;
      const bitcoinPrice = marketCap / 21000000;

      const dateStr = dateLabels[dateIndex];
      const kaspaRate = kaspaEmissions[dateIndex] || 0;
      const rewardDate = (function(label) {
        const parts = label.split(", ");
        return new Date(parts[1] + " " + parts[0]);
      })(dateStr);
    const btcReward = getBitcoinBlockReward(rewardDate);

      const kaspaBlock = kaspaRate * 86400 * kaspaPrice;
      const kaspaFee = feeRate * 259200000 * (congestion / 100);
      const kaspaTotal = kaspaBlock + kaspaFee;

      const btcBlock = btcReward * 144 * bitcoinPrice;
      const btcFee = feeRate * 604800 * (congestion / 100);
      const btcTotal = btcBlock + btcFee;

      document.getElementById("congestionValue").innerText = congestion + "%";
      document.getElementById("dateValue").innerText = dateStr;
      document.getElementById("feeValue").innerText = "$" + feeRate.toFixed(2);
      // Keep market cap in a global for other helpers and update its label
      window.marketCapCurrent = marketCap;
      var mcEl = document.getElementById("marketCapValue");
      if (mcEl) mcEl.innerText = formatMoney(marketCap);


      document.getElementById("kaspaFeeBox").innerText = formatMoney(kaspaFee);
      document.getElementById("kaspaBlockBox").innerText = formatMoney(kaspaBlock);
      document.getElementById("kaspaTotalBox").innerText = formatMoney(kaspaTotal);

      document.getElementById("btcFeeBox").innerText = formatMoney(btcFee);
      document.getElementById("btcBlockBox").innerText = formatMoney(btcBlock);
      document.getElementById("btcTotalBox").innerText = formatMoney(btcTotal);
      if (typeof setLogoPercentsFromBoxes==="function") setLogoPercentsFromBoxes();
      
      // Append percentage of Security Budget Requirement (computed from marketCap & securityRate)
      (function(){
        try {
          // Recompute requirement from the same inputs used elsewhere
          var rate = (window.securityRate || 0.015);
          var req = (typeof marketCap === 'number' ? (marketCap * rate / 365) : 0);
          if (req > 0){
            var kEl = document.getElementById("kaspaTotalBox");
            var bEl = document.getElementById("btcTotalBox");
            var kPct = Math.round((kaspaTotal/req)*100).toLocaleString();
            var bPct = Math.round((btcTotal/req)*100).toLocaleString();
            var kNum = Number(kPct.toString().replace(/,/g, ""));
            var bNum = Number(bPct.toString().replace(/,/g, ""));
            if (kEl) {
  let kPctStr = kPct + "%";
  kPctStr = kPctStr.replace(/,/g, "<span style=\"color:inherit;\">,</span>");
  kEl.innerHTML = formatMoney(kaspaTotal) + " (" +
    "<span style=\"color:" + ((kNum >= 100) ? '#006400' : '#cc0000') + "\">" + kPctStr + "</span>)";
}
            if (bEl) {
  let bPctStr = bPct + "%";
  bPctStr = bPctStr.replace(/,/g, "<span style=\"color:inherit;\">,</span>");
  bEl.innerHTML = formatMoney(btcTotal) + " (" +
    "<span style=\"color:" + ((bNum >= 100) ? '#006400' : '#cc0000') + "\">" + bPctStr + "</span>)";
}
          }
        } catch(e) {
          // fallback: parse requirement from displayed text if needed
          if (typeof parseAbbreviatedNumber === 'function'){
            var elReq = document.getElementById("securityRevenueValue");
            if (elReq){
              var parsedReq = parseAbbreviatedNumber(elReq.innerText);
              if (parsedReq > 0){
                var kEl = document.getElementById("kaspaTotalBox");
                var bEl = document.getElementById("btcTotalBox");
                var kPct = Math.round((kaspaTotal/parsedReq)*100).toLocaleString();
                var bPct = Math.round((btcTotal/parsedReq)*100).toLocaleString();
            var kNum = Number(kPct.toString().replace(/,/g, ""));
            var bNum = Number(bPct.toString().replace(/,/g, ""));
                if (kEl) kEl.innerHTML = formatMoney(kaspaTotal) + ' (<span style="color:' + ((kNum >= 100) ? '#228B22' : '#cc0000') + '">' + kPct + '%</span>)';
                if (bEl) bEl.innerHTML = formatMoney(btcTotal) + ' (<span style="color:' + ((bNum >= 100) ? '#228B22' : '#cc0000') + '">' + bPct + '%</span>)';
              }
            }
          }
        }
      })();

    }

    document.querySelectorAll("input[type=range]").forEach(slider => slider.addEventListener("input", update));
    update();
  </script>
<script>
function parseAbbreviatedNumber(str) {
    if (!str) return 0;
    str = str.replace(/[^0-9.kmbtKMGT]/gi, '').toUpperCase();
    let multiplier = 1;
    if (str.endsWith('K')) { multiplier = 1e3; str = str.slice(0, -1); }
    else if (str.endsWith('M')) { multiplier = 1e6; str = str.slice(0, -1); }
    else if (str.endsWith('B')) { multiplier = 1e9; str = str.slice(0, -1); }
    else if (str.endsWith('T')) { multiplier = 1e12; str = str.slice(0, -1); }
    return parseFloat(str) * multiplier;
}


function updateVisuals() {
    const kaspaText = document.getElementById("kaspaTotalBox")?.textContent;
    const btcText = document.getElementById("btcTotalBox")?.textContent;

    const kaspaVal = parseAbbreviatedNumber(kaspaText);
    const btcVal = parseAbbreviatedNumber(btcText);

    console.log("Kaspa Value:", kaspaVal, "Bitcoin Value:", btcVal);

    const kaspaBubble = document.getElementById("kaspa-bubble");
    const btcBubble = document.getElementById("bitcoin-bubble");
    const bubbleLabel = 

    const scaleKaspa = Math.max(10, Math.min(500, 10 + Math.sqrt(kaspaVal) / 1000));
    const scaleBTC = Math.max(10, Math.min(500, 10 + Math.sqrt(btcVal) / 1000));

    if (kaspaBubble) {
        kaspaBubble.style.width = scaleKaspa + "px";
        kaspaBubble.style.height = scaleKaspa + "px";
    
  if (typeof updateLogoPercents==="function") updateLogoPercents();

  if (typeof setLogoPercentsFromBoxes==="function") setLogoPercentsFromBoxes();
}

    if (btcBubble) {
        btcBubble.style.width = scaleBTC + "px";
        btcBubble.style.height = scaleBTC + "px";
    }

    if (bubbleLabel && kaspaVal > 0 && btcVal > 0) {
        let ratio = 1.0;
        if (kaspaVal > btcVal) {
            ratio = (kaspaVal / btcVal).toFixed(2);
            bubbleLabel.style.color = "green";
        } else if (btcVal > kaspaVal) {
            ratio = (btcVal / kaspaVal).toFixed(2);
            bubbleLabel.style.color = "orange";
        } else {
            ratio = "1.0";
            bubbleLabel.style.color = "gray";
        }
        bubbleLabel.textContent = ratio + "x";
    }
}
setInterval(updateVisuals, 500);
</script><div style="display: flex; justify-content: space-between; align-items: center; width: 100%; max-width: 800px; margin: 40px auto;"></div>
<button onclick="toggleView()" style="position: absolute; top: 10px; right: 10px; z-index: 1000; font-size: 1.2em; padding: 10px;">Toggle View</button>
<script>
function parseAbbreviatedNumber(str) {
    if (!str) return 0;
    str = str.replace(/[^0-9.kmbtKMGT]/gi, '').toUpperCase();
    let multiplier = 1;
    if (str.endsWith('K')) { multiplier = 1e3; str = str.slice(0, -1); }
    else if (str.endsWith('M')) { multiplier = 1e6; str = str.slice(0, -1); }
    else if (str.endsWith('B')) { multiplier = 1e9; str = str.slice(0, -1); }
    else if (str.endsWith('T')) { multiplier = 1e12; str = str.slice(0, -1); }
    return parseFloat(str) * multiplier;
}

function updateExclamations(){
  // neutralized: keep boxes clean without exclamation marks or red styling
  const kaspaBox = document.getElementById("kaspaTotalBox");
  const btcBox = document.getElementById("btcTotalBox");
  if (kaspaBox) kaspaBox.innerText = kaspaBox.innerText.replace(/[^$0-9.,KMBT()%x\s]/gi, "").trim();
  if (btcBox) btcBox.innerText = btcBox.innerText.replace(/[^$0-9.,KMBT()%x\s]/gi, "").trim();
}
 else {
            box.innerText = raw;
        }
    }

    decorate(kaspaBox, kaspaVal < minVal);
    decorate(btcBox, btcVal < minVal);
}

setInterval(updateExclamations, 300);
</script>


<script>
(function(){
  function attachMCUpdater(){
    var s = document.getElementById('marketCapSlider');
    if (s){
      s.addEventListener('input', function(){ if (typeof updateSecurityBudget==='function') updateSecurityBudget(); });
      s.addEventListener('change', function(){ if (typeof updateSecurityBudget==='function') updateSecurityBudget(); });
    }
  }
  if (document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', attachMCUpdater);
  } else {
    attachMCUpdater();
  }
})();
</script>


<script>
(function(){
  // --- <span class="section-red section-budget-large">SECURITY BUDGET</span> % selection + display ---
  window.securityRate = window.securityRate || 0.015; // default 1.5%

  function setActive(btn){
    document.querySelectorAll('.rateBtn').forEach(function(b){
      b.classList.remove('active');
      b.style.background = '#f0f0f0';
      b.style.color = 'black';
      b.style.border = '2px solid #ccc';
    });
    if (btn){
      btn.classList.add('active');
      btn.style.background = '#007BFF';
      btn.style.color = 'white';
      btn.style.border = '3px solid #0056b3';
    }
  }

  function parseMoneyLabel(txt){
    if (!txt) return 0;
    txt = (txt + '').toUpperCase().replace(/[^0-9.\-KMBT]/g,'');
    var mult = 1;
    if (txt.endsWith('K')) { mult = 1e3; txt = txt.slice(0,-1); }
    else if (txt.endsWith('M')) { mult = 1e6; txt = txt.slice(0,-1); }
    else if (txt.endsWith('B')) { mult = 1e9; txt = txt.slice(0,-1); }
    else if (txt.endsWith('T')) { mult = 1e12; txt = txt.slice(0,-1); }
    var n = parseFloat(txt);
    return (isNaN(n)?0:n)*mult;
  }

  function getMarketCap(){
    // Prefer the computed value from main update()
    if (Number.isFinite(window.marketCapCurrent)) return window.marketCapCurrent;
    // Fallback to the displayed label
    var el = document.getElementById('marketCapValue');
    if (el){ 
      var mc = parseMoneyLabel(el.textContent || el.innerText);
      if (Number.isFinite(mc) && mc>0) return mc;
    }
    // Fallback to mapping from slider if present
    var s = document.getElementById('marketCapSlider');
    if (s && s.value !== ''){
      var raw = Number(s.value);
      if (Number.isFinite(raw)){
        // replicate the page's mapping: 0..250 -> 0..2e12, 250..1000 -> 2e12..3e14
        if (raw <= 250) return (raw/250)*2e12;
        return 2e12 + ((raw-250)/750) * (3e14 - 2e12);
      }
    }
    return 0;
  }

  function updateSecurityBudget(){
    var mc = getMarketCap();
    var target = mc * (window.securityRate || 0.015) / 365;
    var el = document.getElementById('securityRevenueValue');
    if (!el) return;

    // Smooth ease-out tween
    if (!Number.isFinite(window._sbShown)) window._sbShown = target;
    var start = window._sbShown;
    var delta = target - start;
    var t0 = performance.now();
    var dur = 140;
    function step(t){
      var p = Math.min(1, (t - t0) / dur);
      var eased = p * (2 - p);
      window._sbShown = start + delta * eased;
      try {
        el.textContent = (typeof formatMoney === "function") ? formatMoney(window._sbShown) + " / DAILY" : ("$" + Math.round(window._sbShown).toLocaleString() + " / DAILY");
      } catch(e){
        el.textContent = '$' + Math.round(window._sbShown).toLocaleString();
      }
      if (p < 1) requestAnimationFrame(step);
    }
    requestAnimationFrame(step);
  }

  // Robust click handling: capture clicks on text/child nodes inside the button
  document.addEventListener('click', function(e){
    var btn = e.target && e.target.closest ? e.target.closest('.rateBtn') : null;
    if (!btn) return;
    var r = parseFloat(btn.getAttribute('data-rate'));
    if (!isNaN(r)){
      window.securityRate = r;
      setActive(btn);
      updateSecurityBudget();
    }
  });

  // Continuous updates when sliders move
  ['congestionSlider','dateSlider','feeSlider','marketCapSlider'].forEach(function(id){
    var s = document.getElementById(id);
    if (s){
      s.addEventListener('input', updateSecurityBudget);
      s.addEventListener('change', updateSecurityBudget);
    }
  });

  // Keep in sync if the main update() runs on its own
  if (typeof update === 'function'){
    var _oldUpdate = update;
    window.update = function(){
      _oldUpdate();
      updateSecurityBudget();
    };
  }

  window.addEventListener('load', updateSecurityBudget);
  document.addEventListener('DOMContentLoaded', updateSecurityBudget);
  // Also tick occasionally in case other UI writes occur elsewhere
  setInterval(updateSecurityBudget, 400);
})();
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const feeSlider = document.getElementById('feeSlider');
    const mcSlider  = document.getElementById('marketCapSlider');
    if (feeSlider) feeSlider.value = 0;
    if (mcSlider) mcSlider.value = 0;

    const feeValue = document.getElementById('feeValue');
    const mcValue  = document.getElementById('marketCapValue');
    if (feeValue) feeValue.textContent = '$0.00';
    if (mcValue)  mcValue.textContent  = '$0.00';

    if (typeof update === 'function') update();
  });
</script>


<script>
function setSecurityBudgetRequirementPercent(percentValue) {
  var pct = Math.max(0, Math.min(2, Number(percentValue)));
  // store as fraction and for legacy code
  window.securityBudgetRequirementFraction = pct / 100;
  window.securityRate = window.securityBudgetRequirementFraction;

  // update visible % label
  var label = document.getElementById('sbSliderValue');
  if (label) label.textContent = pct.toFixed(2) + '%';

  // update progress fill
  var slider = document.getElementById('sbSlider');
  if (slider) {
    var fillPct = (pct / 2) * 100;
    slider.style.backgroundSize = fillPct + '% 100%';
  
  if (typeof updateLogoPercents==="function") updateLogoPercents();

  if (typeof setLogoPercentsFromBoxes==="function") setLogoPercentsFromBoxes();
}

  // trigger recalcs
  if (typeof update === 'function') update();
  if (typeof updateSecurityBudget === 'function') updateSecurityBudget();
}
</script>
<script>
(function bindSecuritySliderInit(){
  var run = function(){
    var slider = document.getElementById('sbSlider');
    if (!slider) return;
    slider.addEventListener('input', function(){ setSecurityBudgetRequirementPercent(slider.value); });
    slider.addEventListener('change', function(){ setSecurityBudgetRequirementPercent(slider.value); });
    setSecurityBudgetRequirementPercent(slider.value);
  };
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', run);
  } else {
    run();
  }
})();
</script>

<script>
function updateLogoPercents(){
  try {
    var kaspaText = document.getElementById("kaspaTotalBox")?.textContent || "";
    var btcText   = document.getElementById("btcTotalBox")?.textContent || "";
    // parseAbbreviatedNumber is already in your file
    var kaspaVal = (typeof parseAbbreviatedNumber === 'function') ? parseAbbreviatedNumber(kaspaText) : 0;
    var btcVal   = (typeof parseAbbreviatedNumber === 'function') ? parseAbbreviatedNumber(btcText) : 0;

    // required daily budget target
    var mc = (typeof getMarketCap === 'function') ? getMarketCap() : 0;
    var rate = (window.securityRate != null) ? window.securityRate : 0.015;
    var required = mc * rate / 365;
    // Use the eased/shown value if available to keep UI consistent
    if (Number.isFinite(window._sbShown)) required = window._sbShown;

    function setPct(id, val){
      var el = document.getElementById(id);
      if (!el) return;
      if (!required || !isFinite(val)) {
        el.textContent = "";
        return;
      }
      var pct = (val / required) * 100;
      var txt = Math.round(pct) + "%";
      el.textContent = txt;
      el.style.color = (pct >= 100) ? "green" : "red";
    }

    setPct("kaspaPercent", kaspaVal);
    setPct("btcPercent", btcVal);
  } catch(e){
    console.warn("updateLogoPercents error:", e);
  }
}
</script>


<script>
function setLogoPercentsFromBoxes(){
  try {
    var kEl = document.getElementById("kaspaTotalBox");
    var bEl = document.getElementById("btcTotalBox");
    var kp = document.getElementById("kaspaPercent");
    var bp = document.getElementById("btcPercent");
    if (!kEl || !bEl || (!kp && !bp)) return;

    function extractColoredPct(html){
      var m = html.match(/\((?:.|\n|\r)*?%\)/);
      if (m) {
        var str = m[0];
        str = str.replace(/^\(/,'').replace(/\)$/,'');
        return str.trim();
      }
      var m2 = html.match(/(\d[\d,]*%)/);
      return m2 ? m2[1] : "";
    }

    var kHTML = kEl.innerHTML || "";
    var bHTML = bEl.innerHTML || "";
    var kPctColored = extractColoredPct(kHTML);
    var bPctColored = extractColoredPct(bHTML);

    if (kp) kp.innerHTML = kPctColored;
    if (bp) bp.innerHTML = bPctColored;
  } catch(e){
    console.warn("setLogoPercentsFromBoxes error:", e);
  }
}
</script>
</body>
</html>